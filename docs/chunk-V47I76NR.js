import{a as R,b as z,d as J,e as K,g as O,i as Q,j as W,k as X,t as Y,x as Z}from"./chunk-DMKBKUFJ.js";import{h as $,k as B}from"./chunk-FJVERUXC.js";import{$a as g,Aa as T,Ab as U,Ha as x,Ka as A,La as L,Ma as j,Na as o,O as k,Oa as i,Pa as u,Qa as v,Ta as C,U as m,Ua as F,W as l,Ya as I,Za as c,_a as _,a as M,b as V,da as b,ea as S,gb as s,jb as G,kb as q,mb as H,va as d,yb as w}from"./chunk-ELDOSICJ.js";var f=class{constructor(t,e,r,a){this.id=t;this.name=e;this.price=r;this.selected=a}};var p=class n{allProducts=T([]);constructor(){this.allProducts.set([new f(1,"product 1",300,!0),new f(2,"product 2",100,!1),new f(3,"product 3",150,!0)]),U(()=>{console.log("Nouvelle liste de produits : ",this.allProducts())})}addProduct(t){t.id=crypto.randomUUID(),this.allProducts.update(e=>[...e,t])}deleteProduct(t){this.allProducts.update(e=>e.filter(r=>r.id!=t))}toggleSelected(t){this.allProducts.update(e=>e.map(r=>r.id==t?V(M({},r),{selected:!r.selected}):r))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var h=class n{productSer=m(p);nbSelected=w(()=>this.productSer.allProducts().filter(t=>t.selected).length);total=w(()=>this.productSer.allProducts().filter(e=>e.selected).reduce((e,r)=>e+r.price,0));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[s],decls:6,vars:2,consts:[[1,"p-3"],[1,"btn","m-3","p-3","btn-outline-info"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"ul")(2,"li",1),c(3),i(),o(4,"li",1),c(5),i()()()),e&2&&(d(3),g(" Selected Products : ",r.nbSelected()," "),d(2),g("Total : ",r.total(),""))}})};var D=class n{productSer=m(p);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-add-product"]],standalone:!0,features:[s],decls:14,vars:1,consts:[["f","ngForm"],[3,"ngSubmit"],[1,"table","tabled-bordered"],["ngModel","","required","","name","name","type","text",1,"form-control"],["ngModel","","required","","name","price","type","number",1,"form-control"],["ngModel","","name","selected","type","checkbox",1,"p-2","form-check-input"],[1,"btn","btn-success",3,"disabled"]],template:function(e,r){if(e&1){let a=v();o(0,"form",1,0),C("ngSubmit",function(){b(a);let te=I(1);return S(r.productSer.addProduct(te.value))}),o(2,"table",2)(3,"tbody")(4,"tr")(5,"td"),u(6,"input",3),i(),o(7,"td"),u(8,"input",4),i(),o(9,"td"),u(10,"input",5),i(),o(11,"td")(12,"button",6),c(13,"Save"),i()()()()()()}if(e&2){let a=I(1);d(12),x("disabled",a.invalid)}},dependencies:[Z,W,z,X,R,J,K,Y,Q,O]})};var ne=(n,t)=>({"btn-success":n,"btn-danger":t});function oe(n,t){if(n&1){let e=v();o(0,"tr")(1,"td"),c(2),i(),o(3,"td"),c(4),i(),o(5,"td"),c(6),q(7,"currency"),i(),o(8,"td")(9,"button",2),C("click",function(){let a=b(e).$implicit,P=F();return S(P.productSer.toggleSelected(a.id))}),c(10),i()(),o(11,"td")(12,"button",3),C("click",function(){let a=b(e).$implicit,P=F();return S(P.productSer.deleteProduct(a.id))}),c(13," Delete "),i()()()}if(n&2){let e=t.$implicit;d(2),_(e.id),d(2),_(e.name),d(2),_(H(7,5,e.price,"EUR")),d(3),x("ngClass",G(8,ne,e.selected,!e.selected)),d(),g(" ",e.selected?"Selected":"Not Selected"," ")}}var E=class n{productSer=m(p);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-list-products"]],standalone:!0,features:[s],decls:15,vars:0,consts:[[1,"p-3"],[1,"table","table-striped"],[1,"btn",3,"click","ngClass"],[1,"btn","btn-outline-danger",3,"click"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),c(5,"ID"),i(),o(6,"th"),c(7,"Product Name"),i(),o(8,"th"),c(9,"Price"),i(),o(10,"th"),c(11,"Selected"),i()()(),o(12,"tbody"),L(13,oe,14,11,"tr",null,A),i()()()),e&2&&(d(13),j(r.productSer.allProducts()))},dependencies:[$,B]})};var ee=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-home-products"]],standalone:!0,features:[s],decls:3,vars:0,template:function(e,r){e&1&&u(0,"app-dashboard")(1,"app-add-product")(2,"app-list-products")},dependencies:[h,D,E]})};export{ee as HomeProductsComponent};
